<%- include ../partials/header %>

<h1 class="display-3 my-5">Edit Hero</h1>

<div class="container my-5">
  <form class="" action="/heroes/<%= hero._id %>?_method=PUT" method="post">
    <div class="form-group my-5">
        <input class="form-control form-control-lg" type="text" name="hero[name]" value="<%= hero.name %>" placeholder="Name" required>
    </div>
    <div class="form-group my-5">
      <input class="form-control form-control-lg" type="text" name="hero[image]" value="<%= hero.image %>" placeholder="Image URL" required>
    </div>
    <div class="form-group my-5">
      <input class="form-control form-control-lg" type="text" name="hero[info]" value="<%= hero.info %>" placeholder="Description" required>
    </div>

    <div class="row mb-5">
      <% berries.forEach(function(berry){ %>
      <div class="berry-checker col border rounded-circle mx-3 my-3 py-5 px-1">
        <p>
          <strong>
            <%= berry.name %>
          </strong>
          <img src="<%= berry.image %>" alt="">
        </p>

        <input type="checkbox" name="hero[berries]" value="<%= berry._id %>"
        <% if (hero.berries.includes(berry.id)) {%>
        checked
        <% } %>
        >
      </div>

      <% }); %>

    </div>

    <input class="btn btn-primary btn-lg" type="submit" name="" value="Submit">

  </form>
</div>

<a class="btn btn-dark btn-lg mb-5" href="/heroes/<%= hero._id %>">Back</a>

<div class="container">
  <button type="submit" class="delete-button btn btn-outline-danger btn-sm">Delete</button>
</div>

<form class="d-none" action="/heroes/<%= hero._id %>?_method=DELETE" method="post">
  <button type="submit" class="delete-confirmed"></button>
</form>


<%- include ../partials/footer %>
